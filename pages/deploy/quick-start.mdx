import { Steps } from "nextra-theme-docs";

# Wasmer Deploy Quickstart

In this quickstart guide, you'll learn the process of publishing a static site using Wasmer Deploy.
We will cover installation of the Wasmer Deploy CLI, setting up a new static site, and deploying it.

## Prerequisites

The project requires the following tools to be installed on your system:

- [Rust](https://www.rust-lang.org/tools/install)
- [Wasmer](https://wasmer.io/)

## Deploying a Static Site

<Steps>
### Step 1: Install the Wasmer Deploy CLI

To get started, install both the Wasmer runtime and the wasmer-deploy-cli:

```bash
# Install the Wasmer runtime
curl https://get.wasmer.io -sSfL | sh

# Install the wasmer-deploy CLI
cargo install wasmer-deploy-cli
```

You can now use both the `wasmer` and the `wasmer-deploy` commands.

### Step 2: Login

Next, you need to authenticate with Wasmer.

- Create a new account or log in at https://wapm.dev/signup .
- Navigate to https://wapm.dev/settings/access-tokens and create a new login token

Now you can log in by running the command below and pasting the token:

```bash
wasmer login --registry https://registry.wapm.dev/graphql
```

To test that everything works correctly, you can run:

```
wasmer-deploy app list
```

This should print a table showing your current apps.

### Step 3: Initialize a Static Site

With the Wasmer Deploy CLI installed, let's create a new static site!

Run the commands below to create a new directory and initialize:

```bash
mkdir my-new-site
cd my-new-site
wasmer-deploy init static-site
```

This will create a Wasmer package config (`wasmer.toml`), a Wasmer Deploy app config (`deploy.yaml`), and a public directory that holds the website data.

The CLI will prompt you for additional configuration options, such as the site name.

You will also be asked if you want to deploy your site.  
This would use the auto-generated stub `index.html` file, so we skip this for now, by entering "n" or "no".

### Step 4: Add Your Site Content

The previous command automatically created a basic `public/index.html` file.

You can now modify this directory and copy your own files (HTML, CSS, JavaScript, images, etc)
as needed.

### Step X: Test Your Site Locally

TODO: add instructions for testing locally

### Step 5: Deploy Your Site

Once you have added all the necessary files to the public directory, it's time to deploy your site. Run the following command:

```bash
wasmer-deploy publish
```

_Note_: You must be in the directory holding the `wasmer.toml` and `deploy.yaml` config files.

Executing this command will package and deploy your site.

The output will contain a URL for accessing the new version.

</Steps>

## Conclusion

Congratulations! You have successfully deployed a static site using Wasmer Deploy.

To make changes to your site, simply modify the files in the public directory and run `wasmer-deploy publish` again to deploy the changes.

## Additional Resources
